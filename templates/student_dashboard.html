{% extends "base.html" %}

{% block title %}Student Dashboard{% endblock %}

{% block content %}

<!-- Page Container -->
<div class="min-h-screen bg-gradient-to-b from-white to-gray-50 py-12 px-4">

    <!-- Inner Container -->
    <div class="max-w-6xl mx-auto">

        <!-- Top Welcome Section -->
        <div class="mb-12">
            <h1 class="text-4xl font-extrabold text-gray-900">
                Welcome, {{ current_user.first_name }} ðŸ‘‹
            </h1>

            <p class="text-lg text-gray-600 mt-2">
                {{ current_user.institute }} â€¢ {{ current_user.department }}
            </p>
        </div>

        <!-- Section Title -->
        <h2 class="text-3xl font-bold text-gray-900 mb-6">
            Interview Rounds
        </h2>

        <!-- Card Grid -->
        <div class="grid md:grid-cols-3 gap-10">

            <!-- Round 1 Card -->
            <div class="bg-white p-8 rounded-2xl shadow-xl border border-gray-200 hover:shadow-2xl transition duration-300">
                
                <div class="flex justify-between items-center mb-5">
                    <div class="p-4 bg-blue-100 rounded-xl">
                        <i class="fas fa-brain text-3xl text-blue-600"></i>
                    </div>
                    <span class="text-sm font-semibold text-blue-700 bg-blue-50 px-4 py-1 rounded-full">
                        Round 1
                    </span>
                </div>

                <h3 class="text-xl font-bold mb-2 text-gray-900">Aptitude Test</h3>
                <p class="text-gray-600 text-sm mb-4">60 MCQs â€¢ 60 Minutes</p>

                <ul class="text-sm text-gray-700 space-y-2 mb-6">
                    <li><i class="fas fa-check text-blue-500 mr-2"></i> Logical Reasoning</li>
                    <li><i class="fas fa-check text-blue-500 mr-2"></i> Quantitative Ability</li>
                    <li><i class="fas fa-check text-blue-500 mr-2"></i> Domain Knowledge</li>
                </ul>

                {% if aptitude_completed %}
                <button class="w-full py-3 rounded-lg font-semibold bg-green-100 text-green-700" disabled>
                    <i class="fas fa-check-circle mr-2"></i> Completed
                </button>
                {% else %}
                <a href="{{ url_for('aptitude_start') }}" 
                   class="w-full py-3 text-center inline-block rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-semibold shadow-md">
                    <i class="fas fa-play mr-2"></i> Start Round 1
                </a>
                {% endif %}
            </div>

            <!-- Round 2 Card -->
            <div class="bg-white p-8 rounded-2xl shadow-xl border border-gray-200 hover:shadow-2xl transition duration-300">

                <div class="flex justify-between items-center mb-5">
                    <div class="p-4 bg-blue-100 rounded-xl">
                        <i class="fas fa-code text-3xl text-blue-600"></i>
                    </div>
                    <span class="text-sm font-semibold text-blue-700 bg-blue-50 px-4 py-1 rounded-full">
                        Round 2
                    </span>
                </div>

                <h3 class="text-xl font-bold mb-2 text-gray-900">
                    {% if is_technical %}Coding Test{% else %}Non-Technical Test{% endif %}
                </h3>

                <p class="text-gray-600 text-sm mb-4">
                    {% if is_technical %}4 Problems â€¢ 90 Minutes{% else %}4 Questions â€¢ 40 Minutes{% endif %}
                </p>

                <ul class="text-sm text-gray-700 space-y-2 mb-6">
                    {% if is_technical %}
                    <li><i class="fas fa-check text-blue-500 mr-2"></i> Algorithm Design</li>
                    <li><i class="fas fa-check text-blue-500 mr-2"></i> SQL Queries</li>
                    <li><i class="fas fa-check text-blue-500 mr-2"></i> Real-time Execution</li>
                    {% else %}
                    <li><i class="fas fa-check text-blue-500 mr-2"></i> Situational Analysis</li>
                    <li><i class="fas fa-check text-blue-500 mr-2"></i> Core Concepts</li>
                    <li><i class="fas fa-check text-blue-500 mr-2"></i> AI-Scored Feedback</li>
                    {% endif %}
                </ul>

                {% if not aptitude_completed %}
                <button class="w-full py-3 rounded-lg font-semibold bg-gray-200 text-gray-400 cursor-not-allowed" disabled>
                    <i class="fas fa-lock mr-2"></i> Locked
                </button>
                {% elif round2_completed %}
                <button class="w-full py-3 rounded-lg font-semibold bg-green-100 text-green-700" disabled>
                    <i class="fas fa-check-circle mr-2"></i> Completed
                </button>
                {% else %}
                <a href="{{ url_for('coding_start') if is_technical else url_for('non_technical_start') }}"
                   class="w-full py-3 text-center inline-block rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-semibold shadow-md">
                    <i class="fas fa-play mr-2"></i> Start Round 2
                </a>
                {% endif %}
            </div>

            <!-- Round 3 Card -->
            <div class="bg-white p-8 rounded-2xl shadow-xl border border-gray-200 hover:shadow-2xl transition duration-300">

                <div class="flex justify-between items-center mb-5">
                    <div class="p-4 bg-blue-100 rounded-xl">
                        <i class="fas fa-trophy text-3xl text-blue-600"></i>
                    </div>
                    <span class="text-sm font-semibold text-blue-700 bg-blue-50 px-4 py-1 rounded-full">
                        Final
                    </span>
                </div>

                <h3 class="text-xl font-bold mb-2 text-gray-900">
                    {% if interview_completed %}Your Results{% else %}HR Interview{% endif %}
                </h3>

                <p class="text-gray-600 text-sm mb-4">Performance Analytics & Feedback</p>

                <ul class="text-sm text-gray-700 space-y-2 mb-6">
                    <li><i class="fas fa-check text-blue-500 mr-2"></i> Overall Score</li>
                    <li><i class="fas fa-check text-blue-500 mr-2"></i> Detailed Feedback</li>
                    <li><i class="fas fa-check text-blue-500 mr-2"></i> AI Insights</li>
                </ul>

                {% if not round2_completed %}
                <button class="w-full py-3 rounded-lg font-semibold bg-gray-200 text-gray-400 cursor-not-allowed" disabled>
                    <i class="fas fa-lock mr-2"></i> Locked
                </button>
                {% elif interview_completed %}
                <button class="w-full py-3 rounded-lg font-semibold bg-green-100 text-green-700" disabled>
                    <i class="fas fa-check-circle mr-2"></i> All Rounds Complete
                </button>
                {% else %}
                <a href="{{ url_for('interview_start') }}"
                   class="w-full py-3 text-center inline-block rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-semibold shadow-md">
                    <i class="fas fa-play mr-2"></i> Start HR Interview
                </a>
                {% endif %}
            </div>

        </div>
    </div>
</div>

{% endblock %}
